define("common:widget/lib/EventEmitter/EventEmitter.js",function(require,exports,module){function EventEmitter(){}EventEmitter.prototype.on=function(eventName,fn,context){this._listeners||(this._listeners={}),this._listeners[eventName]||(this._listeners[eventName]=[]);for(var canBind=!0,fnArray=this._listeners[eventName],i=0,len=fnArray.length;len>i;i++){var fnObj=fnArray[i];if(fnObj.fn===fn){canBind=!1;break}}return canBind&&fnArray.push({fn:fn,context:context?context:null}),this},EventEmitter.prototype.off=function(eventName,fn){if(!this._listeners)return this;if(!eventName)return this._listeners=null,this;var fnArray=this._listeners[eventName];if(!fnArray||fnArray.length<1)return this;for(var i=0,len=fnArray.length;len>i;i++){var fnObj=fnArray[i];if(fnObj.fn===fn)return fnArray.splice(i,1),this}return this},EventEmitter.prototype.trigger=function(eventName,args){if(!this._listeners)return this;var fnArray=this._listeners[eventName];if(!fnArray||fnArray.length<1)return this;fnArray=fnArray.slice();for(var i=0,len=fnArray.length;len>i;i++){var fnObj=fnArray[i];"function"==typeof fnObj.fn&&fnObj.fn.call(fnObj.context,args)}return this},EventEmitter.eventCenter=new EventEmitter,module.exports=EventEmitter});